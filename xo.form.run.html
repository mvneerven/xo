<!DOCTYPE html>
<html lang="en" class="theme-light">

<head>
    <style>
        @import url(css/exf.css);
        @import url(https://fonts.googleapis.com/css2?family=Exo&display=swap);
        @import url(https://cdn.jsdelivr.net/themify-icons/0.1.2/css/themify-icons.css);
    </style>
</head>

<body>
    <!-- <script type="module" src="https://xo-js.dev/v1.4/xo.js"></script> -->
    <script type="module" src="dist/xo.js"></script>

    <script type="module">
        const urlParams = new URLSearchParams(window.location.search);

        const opts = {
            on: {}
        }

        Object.keys(xo.form.factory.events).forEach(k => {
            opts.on[k] = e => {
                
                console.log("Passing event ", k)
                window.postMessage({
                    type: k,
                    data: {
                        ...e.detail
                    }
                }, "*")

            };
        })


        const frm = await xo.form.run(urlParams.get('b'), opts)
        document.body.appendChild(frm);
    </script>
</body>

</html>